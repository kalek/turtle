(this.webpackJsonpturtle=this.webpackJsonpturtle||[]).push([[0],{173:function(t,a,e){t.exports=e(394)},178:function(t,a,e){},214:function(t,a){},228:function(t,a){},230:function(t,a){},393:function(t,a,e){},394:function(t,a,e){"use strict";e.r(a);var n=e(0),c=e.n(n),r=e(166),i=e.n(r),l=(e(178),e(18)),s=e.n(l),o=e(167),u=e(168),d=e(169),h=e(171),m=e(170),v=e(172),p=e(88),f=e.n(p),g=e(89),y=e.n(g),b=e(90),C=e.n(b),w=e(53),S=(e(393),10),E={activeCard1:[],activeCard2:[],activeCard3:[]},O=function(t){function a(){var t,e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=Object(h.a)(this,(t=Object(m.a)(a)).call.apply(t,[this].concat(c)))).state={data:null,activeCard:1,instruments:JSON.parse(localStorage.getItem("instruments"))||E,inputValue:""},e.getClass=function(t,a,n){var c=e.state.data;if(a>=c.length-(S-1))return"grey";var r=c.slice(a+1,a+S+1),i=[];r.forEach((function(a){i.push(parseFloat(a[t]))}));var l=Math.max.apply(Math,i),s=Math.min.apply(Math,i);return parseFloat(n[t])>l?"buy":parseFloat(n[t])<s?"sell":void 0},e}return Object(v.a)(a,t),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(t,a){this.state.activeCard!==a.activeCard&&this.loadData()}},{key:"loadData",value:function(){var t,a,e,n,c,r,i,l=this;return s.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:t=this.state,a=t.activeCard,e=t.instruments,n=[],c=JSON.parse(localStorage.getItem("activeCard".concat(a))),r=C()().date(),i=0,c&&c.day>=r?this.setState({data:c.data}):e["activeCard".concat(a)].length?e["activeCard".concat(a)].forEach((function(t,c){var u,d,h,m;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,s.a.awrap(f.a.get("https://www.biznesradar.pl/notowania-historyczne/".concat(t)));case 2:u=c.sent,d=u.data,h=y.a.load(d),m=h(".qTableFull tbody tr"),0===i?(Object(w.each)(m,(function(a,e){n.push(Object(o.a)({date:a.children[1].children[0].data},t,a.children[9].children[0].data))})),i+=1):(Object(w.each)(m,(function(a,e){n[e][t]=a.children[9].children[0].data})),i+=1),i===e["activeCard".concat(a)].length&&(localStorage.setItem("activeCard".concat(a),JSON.stringify({day:r,data:n})),l.setState({data:n}));case 8:case"end":return c.stop()}}))})):this.setState({data:null});case 6:case"end":return u.stop()}}),null,this)}},{key:"render",value:function(){var t=this,a=this.state,e=a.data,n=a.instruments,r=a.activeCard,i=a.inputValue;return c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"header"},c.a.createElement("ul",{className:"list-cards"},c.a.createElement("li",{className:1===r?"active":null,onClick:function(){return t.setState({activeCard:1})}},"KARTA 1"),c.a.createElement("li",{className:2===r?"active":null,onClick:function(){return t.setState({activeCard:2})}},"KARTA 2"),c.a.createElement("li",{className:3===r?"active":null,onClick:function(){return t.setState({activeCard:3})}},"KARTA 3")),c.a.createElement("div",{className:"add-button"},"Dodaj symbol:",c.a.createElement("input",{type:"text",value:i,onChange:function(a){return t.setState({inputValue:a.target.value})}}),c.a.createElement("div",{onClick:function(){setTimeout((function(){var a,c,l,o,u,d,h;return s.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if((a=Object.assign({},n))["activeCard".concat(r)].push(i),t.setState({inputValue:"",instruments:a}),localStorage.setItem("instruments",JSON.stringify(a)),e){m.next=8;break}t.loadData(),m.next=19;break;case 8:return m.next=10,s.a.awrap(f.a.get("https://www.biznesradar.pl/notowania-historyczne/".concat(i)));case 10:c=m.sent,l=c.data,o=y.a.load(l),u=o(".qTableFull tbody tr"),d=Object.assign([],e),Object(w.each)(u,(function(t,a){d[a][i]=t.children[9].children[0].data})),h=C()().date(),localStorage.setItem("activeCard".concat(r),JSON.stringify({day:h,data:d})),t.setState({data:d});case 19:case"end":return m.stop()}}))}),100)},className:"add-symbol"},"DODAJ"))),e&&Boolean(e.length)&&c.a.createElement("table",{cellPadding:"0",cellSpacing:"0",border:"0"},c.a.createElement("tr",null,Object.keys(e[0]).map((function(t){return c.a.createElement("td",null,t)}))),e.map((function(a,e){return 0===e?null:c.a.createElement("tr",null,Object.keys(a).map((function(n){return"date"===n?c.a.createElement("td",null,a[n]):c.a.createElement("td",{className:t.getClass(n,e,a)},a[n])})))}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[173,1,2]]]);
//# sourceMappingURL=main.e877f885.chunk.js.map